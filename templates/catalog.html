{% extends "base.html" %}

{% block title %}My EuroCoins | Catalog{% endblock %}

{% block description %}Browse the complete catalog of Euro coins with advanced filters. Search by country, year, type, and denomination. Interactive coin collection from all eurozone countries.{% endblock %}

{% block canonical_path %}/catalog{% endblock %}

{% block main_class %}{% endblock %}

{% block content %}
<div class="container-fluid mt-4">
    <div class="row">
        <!-- Filters Sidebar -->
        <div class="col-lg-3">
            <div class="filters-sidebar">
                <h5 class="mb-4">
                    <i class="fas fa-filter me-2"></i>Filters
                </h5>
                
                <!-- Search -->
                <div class="filter-section">
                    <label for="search-input" class="form-label">Search</label>
                    <div class="search-container">
                        <i class="fas fa-search search-icon"></i>
                        <input 
                            type="text" 
                            class="form-control search-input" 
                            id="search-input" 
                            placeholder="Search coins..."
                        >
                    </div>
                </div>
                
                <!-- Coin Type Filter -->
                <div class="filter-section">
                    <label for="type-filter" class="form-label">Coin Type</label>
                    <select class="form-select" id="type-filter">
                        <option value="">All Types</option>
                        <option value="RE">Regular (RE)</option>
                        <option value="CC">Commemorative (CC)</option>
                    </select>
                </div>
                
                <!-- Coin Value Filter -->
                <div class="filter-section">
                    <label for="value-filter" class="form-label">Coin Value</label>
                    <select class="form-select" id="value-filter">
                        <option value="">All Values</option>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                
                <!-- Country Filter -->
                <div class="filter-section">
                    <label for="country-filter" class="form-label">Country</label>
                    <select class="form-select" id="country-filter">
                        <option value="">All Countries</option>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                
                <!-- Commemorative Filter -->
                <div class="filter-section">
                    <label for="commemorative-filter" class="form-label">â‚¬2 Commemoratives</label>
                    <select class="form-select" id="commemorative-filter">
                        <option value="">All Commemoratives</option>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                
                <!-- Clear Filters -->
                <div class="filter-section">
                    <button type="button" class="btn btn-outline-secondary w-100" id="clear-filters">
                        <i class="fas fa-times me-2"></i>Clear Filters
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="col-lg-9">
            <!-- Results Header -->
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div>
                    <h2 class="mb-1">Euro Coins Catalog</h2>
                    <p class="text-muted mb-0" id="results-count">Loading coins...</p>
                </div>
                <div class="d-flex align-items-center">
                    <div class="loading" id="loading-spinner" style="display: none;"></div>
                </div>
            </div>
            
            <!-- Coins Grid -->
            <div class="row g-4" id="coins-grid">
                <!-- Coins will be loaded here by JavaScript -->
            </div>
            
            <!-- Pagination -->
            <nav aria-label="Coins pagination" class="mt-5">
                <ul class="pagination justify-content-center" id="pagination">
                    <!-- Pagination will be generated by JavaScript -->
                </ul>
            </nav>
        </div>
    </div>
</div>

<!-- Coin Detail Modal -->
<div class="modal fade" id="coinDetailModal" tabindex="-1" aria-labelledby="coinDetailModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content coin-modal">
            <div class="modal-header border-0 pb-0">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-0">
                <!-- Modal content will be dynamically populated -->
            </div>
        </div>
    </div>
</div>

<!-- Scroll to Top Button -->
<button class="scroll-to-top" id="scroll-to-top" onclick="scrollToTop()">
    <i class="fas fa-arrow-up"></i>
</button>
{% endblock %}

{% block scripts %}
<script src="/static/js/coins.js"></script>
<script>
// Initialize catalog when page loads
document.addEventListener('DOMContentLoaded', function() {
    if (typeof CoinCatalog !== 'undefined') {
        window.coinCatalog = new CoinCatalog();
    }
});

// Scroll to top functionality
function scrollToTop() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

// Show/hide scroll to top button
window.addEventListener('scroll', function() {
    const scrollButton = document.getElementById('scroll-to-top');
    if (window.pageYOffset > 300) {
        scrollButton.classList.add('show');
    } else {
        scrollButton.classList.remove('show');
    }
});
</script>
{% endblock %}
